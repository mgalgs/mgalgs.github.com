---           
layout: post
title: Starting to come together...
date: 2009-12-04 08:15:00 UTC
---

Well, my "helicopter framework" (which I have dubbed "sonton" in honor of my patient wife who has put up with me working on this thing day and night) is finally starting to come together. Pretty much the only thing that doesn't work is the actual flying part. Now, most people probably think that's the most important thing about a helicopter framework, and I guess I'd have to agree with them. However, from the standpoint of a cool project, I think I've got some pretty cool stuff going on even without the flight:<br /><br /><ul><li>Wireless communication from a Linux machine to an AVR microcontroller using two XBee modules</li><li>Accurate altitude reading with an AVR by reading the PWM signal coming out of a sonar sensor</li><li>A semi-complex, multi-threaded control station capable of sending altitude commands to the helicopter while listening for data over a UDP socket</li><li>Successful data link between a WiiMote controller and a Linux machine which talks to the control station</li></ul>Who needs flight?!? Just kidding, I still have a few days before the project deadline so I'm hoping to get the motors spinning before then, but between all my other final projects and studying for final exams it could be interesting...<br /><br />I'm using the <a href="http://github.com/abstrakraft/cwiid">cwiid</a> python module to interface with the WiiMote controller. It's laughably simple to get data and do cool things with the WiiMote using cwiid. Could make for some fun little projects...<br /><br />Here's a tiny example to read the pitch of the controller:<br /><br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: x-small;"><br />   import cwiid<br />   print 'place wiimote in discoverable mode (press 1 and 2)...'<br />   wiimote = cwiid.Wiimote()<br />   wiimote.rpt_mode = cwiid.RPT_ACC<br />   #wiimote.state dict now has an acc key with a three-element tuple<br />   print 'pitch: %d' % (wiimote.state['acc'][cwiid.Y])<br /></span><br /><br /><br />5 lines of code and you're there. I love python.<br /><br /><br />Another video demo (with WiiMote pseudo-control):<br /><br /><object height="385" width="480"><param name="movie" value="http://www.youtube.com/v/wYVPR1jEZJk&amp;hl=en_US&amp;fs=1&amp;color1=0x006699&amp;color2=0x54abd6"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/wYVPR1jEZJk&amp;hl=en_US&amp;fs=1&amp;color1=0x006699&amp;color2=0x54abd6" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="480" height="385"></embed></object><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/8243365953452498700-3308661321036559368?l=mgalgs.blogspot.com' alt='' /></div>
